(this["webpackJsonpfe-project"]=this["webpackJsonpfe-project"]||[]).push([[0],{115:function(e,t,c){},116:function(e,t,c){},117:function(e,t,c){},124:function(e,t,c){},125:function(e,t,c){},126:function(e,t,c){},129:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),i=c(25),a=c.n(i),s=c(7),o=(c(88),c(27)),d=c(9),j=(c(89),c(26)),l=c(17),u=c(57),b=c(33),h=c(36),O=c(11),v=c(12),x=c(1),m=function(){localStorage.removeItem("loggedInUser")};var f=function(){return Object(x.jsx)(j.a,{id:"primary-navbar",collapseOnSelect:!0,bg:"dark",variant:"dark",expand:"sm",children:Object(x.jsx)(h.a,{fluid:!0,children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(b.a,{children:Object(x.jsxs)(j.a.Brand,{id:"brand",href:"/reviews",children:[Object(x.jsx)("span",{id:"left-brand",children:"Bored?"})," Reviews",Object(x.jsx)(O.a,{id:"icon",icon:v.b})]})}),Object(x.jsxs)(b.a,{className:"second-col",children:[Object(x.jsx)(j.a.Toggle,{id:"hamburger-menu"}),Object(x.jsx)(j.a.Collapse,{id:"responsive-navbar-nav",children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(l.a.Link,{href:"/reviews",children:"Reviews"}),Object(x.jsx)(l.a.Link,{href:"/newreview",children:"Post Review"}),Object(x.jsx)(l.a.Link,{href:"/",onClick:m,children:"Sign-out"})]})})]})]})})})};c(97);var g=function(e){e.categories;var t=e.currentUser;return Object(x.jsx)(j.a,{id:"secondary-navbar",collapseOnSelect:!0,expand:"lg",children:Object(x.jsxs)(h.a,{id:"secondary-nav-container",children:[Object(x.jsx)(j.a.Toggle,{id:"navbar-toggler","aria-controls":"responsive-navbar-nav",children:Object(x.jsxs)("span",{children:["Select Review Category",Object(x.jsx)(O.a,{id:"icon",icon:v.a})]})}),Object(x.jsx)(j.a.Collapse,{id:"responsive-navbar-nav-cat",children:Object(x.jsxs)(l.a,{id:"navbar-nav",children:[Object(x.jsx)(j.a.Text,{id:"categories-label",children:"Review Categories :"}),Object(x.jsx)(l.a.Link,{className:"secondary-navlinks",href:"/reviews/strategy",children:"Strategy"},"1"),Object(x.jsx)(l.a.Link,{className:"secondary-navlinks",href:"/reviews/hidden-roles",children:"Hidden-Roles"},"2"),Object(x.jsx)(l.a.Link,{className:"secondary-navlinks",href:"/reviews/dexterity",children:"Dexterity"},"3"),Object(x.jsx)(l.a.Link,{className:"secondary-navlinks",href:"/reviews/push-your-luck",children:"Push Your Luck"},"4"),Object(x.jsx)(l.a.Link,{className:"secondary-navlinks",href:"/reviews/roll-and-write",children:"Roll And Write"},"5"),Object(x.jsx)(l.a.Link,{className:"secondary-navlinks",href:"/reviews/deck-building",children:"Deck Building"},"6"),Object(x.jsx)(l.a.Link,{className:"secondary-navlinks",href:"/reviews/engine-building",children:"Engine Building"},"7")]})}),Object(x.jsxs)("small",{id:"profile-username",children:["Signed in as : ",t]})]})})},p=c(79),w=c.n(p).a.create({baseURL:"https://nc-board-games.herokuapp.com/api"}),y=function(e,t){return w.get("/reviews",{params:{category:t,sort_by:e}}).then((function(e){return e.data.reviews}))},k=function(e){return w.get("/reviews/".concat(e,"/comments")).then((function(e){return e.data.comments}))},S=function(e,t){return w.patch("/reviews/".concat(e),{inc_votes:t})},C=function(e){return w.delete("/reviews/".concat(e)).then((function(){})).catch((function(e){console.dir(e)}))};c(115);var N=function(e){var t=e.review_id,c=e.currentUser,r=e.comments,i=e.setComments,a=Object(n.useState)(!1),o=Object(s.a)(a,2),d=o[0],j=o[1];Object(n.useEffect)((function(){j(!1),k(t).then((function(e){i(e)})).catch((function(e){j(!0)}))}),[t,i]);var l=function(e){e.preventDefault();var c=e.currentTarget.value;console.log(c),function(e){return w.delete("/comments/".concat(e)).then((function(){})).catch((function(e){console.log(e)}))}(c).then((function(){return k(t)})).then((function(e){i(e)}))};return d?Object(x.jsxs)("div",{className:"error-page",children:[Object(x.jsx)("p",{children:"Page cannot be found... please try again"}),Object(x.jsx)("img",{src:"https://images.unsplash.com/photo-1579373903781-fd5c0c30c4cd?ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8ZXJyb3J8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",alt:"error page not found"})]}):Object(x.jsxs)("div",{id:"comments-box",children:[Object(x.jsx)("p",{id:"comments-box-heading",children:"Comments"}),r.map((function(e,t){return Object(x.jsxs)("section",{id:"comment-container",children:[Object(x.jsx)("p",{id:"dc-heading",children:e.author}),Object(x.jsx)("p",{id:"dc-comment-body",children:e.body}),Object(x.jsx)("button",{id:"dc-delete",value:e.comment_id,onClick:l,hidden:e.author!==c,children:Object(x.jsx)(O.a,{id:"review-icon",icon:v.e})})]},t)}))]})},U=(c(116),c(60));var _=function(e){var t=e.review_id,c=Object(n.useState)({}),r=Object(s.a)(c,2),i=r[0],a=r[1],o=Object(n.useState)(0),d=Object(s.a)(o,2),j=d[0],l=d[1],u=Object(n.useState)(!1),b=Object(s.a)(u,2),h=b[0],m=b[1],f=Object(n.useState)(!0),g=Object(s.a)(f,2),p=g[0],y=g[1];return Object(n.useEffect)((function(){y(!0),function(e){return w.get("reviews/".concat(e)).then((function(e){return e.data.review}))}(t).then((function(e){a(e),y(!1)})).catch((function(e){}))}),[t,y]),p?Object(x.jsx)(U.a,{className:"loading-icon",animation:"border",variant:"primary"}):Object(x.jsx)("section",{id:"cr",children:Object(x.jsxs)("div",{id:"current-review-body",children:[Object(x.jsx)("p",{id:"cr-title",children:i.title}),Object(x.jsxs)("div",{id:"cr-main-body",children:[Object(x.jsx)("img",{id:"cr-img",src:i.review_img_url,alt:"review"}),Object(x.jsx)("p",{id:"cr-body",children:i.review_body}),Object(x.jsx)("p",{id:"cr-date",children:new Date(i.created_at).toLocaleDateString("en-GB",{timeZone:"UTC"})}),Object(x.jsx)("p",{id:"cr-owner",children:i.owner}),Object(x.jsxs)("div",{id:"cr-info",children:[Object(x.jsx)("button",{className:h?"liked":"like",disabled:h,onClick:function(){m(!0),l((function(e){return e+1})),S(t,1)},children:Object(x.jsx)(O.a,{id:"thumbs-up",icon:v.d})}),Object(x.jsx)("button",{className:h?"liked":"like",disabled:h,onClick:function(){m(!0),l((function(e){return e-1})),S(t,-1)},children:Object(x.jsx)(O.a,{id:"thumbs-down",icon:v.c})}),Object(x.jsxs)("p",{id:"cr-votecount",children:["Likes ",i.votes+j]})]})]})]})})},R=c(13),L=c(39),B=c(48);c(117);var D=function(e){var t=e.review_id,c=e.currentUser,r=e.setComments,i=Object(n.useState)(""),a=Object(s.a)(i,2),o=a[0],d=a[1],j=Object(n.useState)(!1),l=Object(s.a)(j,2),u=l[0],b=l[1];return Object(x.jsxs)("div",{id:"comment-input-box",children:[Object(x.jsx)(B.a,{children:Object(x.jsxs)(B.a.Item,{id:"ci-accordion-item",eventKey:"1",children:[Object(x.jsx)(B.a.Header,{active:"1",children:"Leave a Comment"}),Object(x.jsx)(B.a.Body,{className:"p-0 h-100",children:Object(x.jsxs)(R.a,{className:"h-100 secondary",onSubmit:function(e){b(!1),e.preventDefault(),d(""),function(e,t,c){return w.post("/reviews/".concat(c,"/comments"),{username:t,body:e})}(o,c,t).then((function(){return k(t)})).then((function(e){r(e)})).catch((function(){b(!0)}))},children:[Object(x.jsx)(R.a.Control,{className:"p-10 h-100",id:"comment-textbox",as:"textarea",value:o,placeholder:"comment...",required:!0,onChange:function(e){d(e.target.value)}}),Object(x.jsx)(L.a,{id:"ci-submit",type:"submit",children:"Submit"})]})})]})}),Object(x.jsx)("div",{children:u?Object(x.jsx)("p",{children:"Error comment not uploaded, please try again.."}):null})]})};var I=function(e){var t=e.currentUser,c=Object(n.useState)([]),r=Object(s.a)(c,2),i=r[0],a=r[1],o=Object(d.g)().review_id;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(h.a,{id:"comments-page-container",children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(b.a,{md:7,children:Object(x.jsx)(_,{review_id:o})}),Object(x.jsxs)(b.a,{id:"cp-col2",md:5,children:[Object(x.jsx)(D,{review_id:o,currentUser:t,comments:i,setComments:a}),Object(x.jsx)(N,{review_id:o,currentUser:t,comments:i,setComments:a})]})]})})})},M=c(68),E=c.n(M),q=c(82),H=(c(124),c(49)),T=c(83),W=c(46);var Z=function(e){var t=e.category,c=e.currentUser,r=e.setErr,i=Object(n.useState)([]),a=Object(s.a)(i,2),d=a[0],j=a[1],l=Object(n.useState)(!0),u=Object(s.a)(l,2),b=u[0],h=u[1],m=Object(n.useState)(null),f=Object(s.a)(m,2),g=f[0],p=f[1];Object(n.useEffect)((function(){h(!0),y(g,t).then((function(e){j(e),h(!1)})).catch((function(e){}))}),[t,g,r]);var w=function(){var e=Object(q.a)(E.a.mark((function e(c){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.preventDefault(),n=c.currentTarget.value,C(n).then((function(){return y(t,g)})).then((function(e){j(e),h(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return b?Object(x.jsx)(U.a,{className:"loading-icon",animation:"border",variant:"primary"}):Object(x.jsxs)("div",{className:"review-body",children:[Object(x.jsx)("section",{children:Object(x.jsxs)(R.a.Select,{id:"sortby-form",defaultValue:"selected",onChange:function(e){e.preventDefault(),p(e.target.value)},children:[Object(x.jsx)("option",{value:"selected",disabled:!0,children:"Sort-Reviews"}),Object(x.jsx)("option",{value:"created_at",children:"Date"}),Object(x.jsx)("option",{value:"comment_count",children:"Comments"}),Object(x.jsx)("option",{value:"votes",children:"Votes"})]})}),Object(x.jsxs)("section",{id:"review-cards",children:[Object(x.jsxs)("div",{id:"review-header",children:[Object(x.jsxs)("p",{id:"header-logo",children:["Bored? ",Object(x.jsx)("span",{id:"review-logo-right",children:"Reviews"}),Object(x.jsx)(O.a,{id:"review-icon",icon:v.b})]}),Object(x.jsx)("p",{id:"review-description",children:"Click on a review to read more, vote on the review or leave a comment"}),Object(x.jsxs)("p",{id:"post-review-prompt",children:["Or post a ",Object(x.jsx)(o.b,{to:"/newreview",children:"review"})," of you own"]}),g?Object(x.jsxs)("p",{children:["Reviews sorted by ",g]}):null]}),Object(x.jsx)("div",{id:"review-card-container",children:d.map((function(e,t){return Object(x.jsx)(o.b,{id:"review-link",to:"/comments/".concat(e.review_id),children:Object(x.jsxs)(H.a,{style:{width:"300px"},className:"review-box",id:"individual-card",children:[Object(x.jsx)(H.a.Header,{id:"card-header",children:e.title}),Object(x.jsx)(H.a.Img,{variant:"top",src:e.review_img_url,alt:"review"}),Object(x.jsxs)(T.a,{children:[Object(x.jsxs)(H.a.Text,{id:"review-body",children:["Review: ","".concat(e.review_body.slice(0,50),"......")]}),Object(x.jsxs)(W.a,{children:["Author: ",e.owner]}),Object(x.jsxs)(W.a,{children:[e.category," ",Object(x.jsxs)("button",{id:"delete-button",value:e.review_id,onClick:w,hidden:e.owner!==c,children:[Object(x.jsx)(O.a,{id:"review-icon",icon:v.e}),Object(x.jsx)("small",{children:"delete review"})]})]})]})]})},t)}))})]})]})};var A=function(e){var t=e.currentUser,c=Object(d.g)().category;return Object(x.jsx)("div",{children:Object(x.jsx)(Z,{category:c,currentUser:t})})};c(125);var J=function(e){var t=e.setCurrentUser,c=e.users,r=Object(n.useState)(""),i=Object(s.a)(r,2),a=i[0],o=i[1],j=Object(n.useState)(!1),l=Object(s.a)(j,2),u=l[0],b=l[1],h=Object(d.f)();return console.log(a),Object(x.jsxs)("section",{id:"signin-box",children:[Object(x.jsxs)("p",{className:"fadeInDown",id:"si-header-logo",children:[Object(x.jsx)("span",{id:"review-logo-left",children:"Bored?"})," Reviews",Object(x.jsx)(O.a,{id:"review-icon",icon:v.b})]}),Object(x.jsx)("p",{id:"signin-heading",children:"Welcome "}),Object(x.jsx)("div",{id:"msg-container",children:Object(x.jsx)("p",{id:"signin-msg",children:"Join the board game community. Review your favourite board games and interact with other board-game addicts."})}),Object(x.jsxs)(R.a,{id:"signin-submit-form",onSubmit:function(e){e.preventDefault(),b(!1),c.map((function(e){return e.username})).includes(a)?(t(a),localStorage.setItem("loggedInUser",a),h.push("/reviews")):b(!0),o("")},children:[Object(x.jsx)(R.a.Control,{id:"username",onChange:function(e){o(e.target.value)},required:!0,type:"text",placeholder:"username",value:a}),Object(x.jsx)(L.a,{id:"form-submit-btn",type:"submit",children:"Sign-In"})]}),Object(x.jsx)("p",{id:"signin-prompt",className:"text-muted",children:"Guest ? username = tickle122"}),Object(x.jsx)("div",{children:function(){if(u)return Object(x.jsx)("p",{children:"User not found with entered username, please try again"})}()})]})};var F=function(e){var t=e.setCurrentUser,c=e.users,n=e.setUsers;return Object(x.jsx)("section",{children:Object(x.jsx)(J,{setCurrentUser:t,users:c,setUsers:n})})},G=c(2);c(126);var P=function(e){var t=e.currentUser,c=e.categories,r=(e.setIsLoading,Object(n.useState)({title:"",image:"",manufacturer:"",body:"",category:null})),i=Object(s.a)(r,2),a=i[0],d=i[1],j=Object(n.useState)(!1),l=Object(s.a)(j,2),u=l[0],b=l[1],h=Object(n.useState)(!1),m=Object(s.a)(h,2),f=m[0],g=m[1];return Object(x.jsxs)("section",{className:"NewFormReview",children:[Object(x.jsx)("p",{id:"nr-heading",children:"Enter you review below"}),Object(x.jsx)(R.a,{disabled:!!u,onSubmit:function(e){e.preventDefault(),d({title:"",image:"",manufacturer:"",body:"",category:null}),function(e,t){var c=e.title,n=e.image,r=e.body,i=e.category,a=e.manufacturer;return w.post("/reviews",{title:"".concat(c),designer:"".concat(a),owner:"".concat(t),review_img_url:"".concat(n),review_body:"".concat(r),category:"".concat(i)})}(a,t).catch((function(e){g(!0)})),b(!0)},children:Object(x.jsx)(R.a.Group,{children:Object(x.jsxs)("div",{id:"nr-form-container",children:[Object(x.jsxs)("p",{id:"nr-brand",children:[Object(x.jsx)("span",{id:"review-logo-left",children:"Bored?"})," Reviews",Object(x.jsx)(O.a,{id:"review-icon",icon:v.b})]}),Object(x.jsx)(R.a.Control,{placeholder:"Review Title......",className:"pl-10 mb-3",disabled:!!u,onChange:function(e){d((function(t){var c=Object(G.a)({},t);return c.title=e.target.value,c}))},required:!0,type:"text",value:a.title}),Object(x.jsx)(R.a.Control,{className:"pl-10 mb-3",placeholder:"Image URL......",disabled:!!u,onChange:function(e){d((function(t){var c=Object(G.a)({},t);return c.image=e.target.value,c}))},required:!0,type:"text",value:a.image}),Object(x.jsx)(R.a.Control,{className:"pl-10 mb-3",placeholder:"Board Game Name......",disabled:!!u,onChange:function(e){d((function(t){var c=Object(G.a)({},t);return c.manufacturer=e.target.value,c}))},required:!0,type:"text",value:a.manufacturer}),Object(x.jsx)(R.a.Control,{className:"pl-10 mb-3",placeholder:"Review......",disabled:!!u,onChange:function(e){d((function(t){var c=Object(G.a)({},t);return c.body=e.target.value,c}))},required:!0,as:"textarea",rows:6,value:a.body}),Object(x.jsxs)(R.a.Select,{className:"pl-10 mb-3",disabled:!!u,defaultValue:"selected",onChange:function(e){d((function(t){var c=Object(G.a)({},t);return c.category=e.target.value,c}))},required:!0,children:[Object(x.jsx)("option",{value:"selected",disabled:!0,children:"Select Option"}),c.map((function(e,t){return Object(x.jsx)("option",{required:!0,children:e.slug},t)}))]}),Object(x.jsx)(L.a,{id:"new-review-btn",className:"mt-20",type:"submit",disabled:!!u,children:"Submit"})]})})}),u&!f?Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:"https://images.unsplash.com/photo-1494178270175-e96de2971df9?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTB8fHN1Y2Nlc3N8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",alt:"successful upload"}),Object(x.jsx)("p",{children:a.title}),Object(x.jsxs)("p",{children:["Review Submitted - Check it out at"," ",Object(x.jsx)(o.b,{href:"/reviews",children:"Reviews"})," or Submit Another"," ",Object(x.jsx)(o.b,{onClick:function(){window.location.reload()},children:"Review"})]})]}):null]})};var Y=function(e){var t=e.currentUser,c=e.categories;return Object(x.jsx)("section",{id:"NewReviewPage",children:Object(x.jsx)(P,{currentUser:t,categories:c})})};var V=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)([]),a=Object(s.a)(i,2),j=a[0],l=a[1],u=Object(n.useState)([]),b=Object(s.a)(u,2),h=b[0],O=b[1];return Object(n.useEffect)((function(){w.get("/categories").then((function(e){return e.data.categories})).then((function(e){l(e)}))}),[l]),Object(n.useEffect)((function(){w.get("/users").then((function(e){return e.data.result})).then((function(e){return O(e)}))}),[]),Object(n.useEffect)((function(){var e=localStorage.getItem("loggedInUser");e&&r(e)}),[]),Object(x.jsx)(o.a,{children:Object(x.jsx)("div",{children:Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.a,{exact:!0,path:"/",children:Object(x.jsx)(F,{setCurrentUser:r,users:h,setUsers:O})}),Object(x.jsxs)(d.a,{exact:!0,path:"/reviews/",children:[Object(x.jsx)(f,{}),Object(x.jsx)(g,{currentUser:c,users:h,categories:j}),Object(x.jsx)(A,{currentUser:c})]}),Object(x.jsxs)(d.a,{exact:!0,path:"/reviews/:category",children:[Object(x.jsx)(f,{}),Object(x.jsx)(g,{currentUser:c,users:h,categories:j}),Object(x.jsx)(A,{currentUser:c})]}),Object(x.jsxs)(d.a,{exact:!0,path:"/comments/:review_id",children:[Object(x.jsx)(f,{}),Object(x.jsx)(g,{users:h,currentUser:c,categories:j}),Object(x.jsx)(I,{currentUser:c,categories:j})]}),Object(x.jsxs)(d.a,{exact:!0,path:"/newreview",children:[Object(x.jsx)(f,{}),Object(x.jsx)(Y,{categories:j,currentUser:c})]})]})})})};c(127),c(128);a.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(V,{})}),document.getElementById("root"))},88:function(e,t,c){},89:function(e,t,c){},97:function(e,t,c){}},[[129,1,2]]]);
//# sourceMappingURL=main.0d928acc.chunk.js.map